# 文件共享平台

这是一个基于Flask的简易文件共享平台，支持文件上传、取件和管理功能。采用类似快递柜的取件码机制，让文件分享变得简单高效。

## 主要功能

- 无需登录注册，采用取件码方式共享文件
- 上传多个文件，生成随机取件码
- 通过取件码下载文件
- 支持断点续传
- 文件安全检查
- 支持设置有效期和下载次数限制
- 简洁的用户界面
- 管理界面查看下载情况

## 技术栈

- 后端：Python + Flask
- 前端：HTML + CSS + JavaScript
- 数据存储：JSON文件（无需数据库）

## 安装与运行

### 安装依赖

```bash
pip install -r requirements.txt
```

### 运行应用

```bash
python app.py
```

应用将在 http://localhost:5000 运行。

## 配置项

可在`app.py`中修改以下配置：

- `UPLOAD_FOLDER`：上传文件的存储路径
- `DATA_FILE`：数据文件路径
- `ALLOWED_EXTENSIONS`：允许上传的文件类型
- `FORBIDDEN_EXTENSIONS`：禁止上传的文件类型
- `MAX_CONTENT_LENGTH`：最大上传文件大小

## 使用方法

1. 访问主页，选择"上传文件"
2. 选择需要上传的文件，设置有效期和下载次数
3. 上传完成后获取取件码和管理链接
4. 将取件码发送给需要获取文件的人
5. 收件人输入取件码即可下载文件
6. 上传者可通过管理链接查看下载情况或删除文件

## 内网穿透与远程访问

本项目默认只能在局域网内访问。如需从外部访问，推荐以下两种方式：

### 1. 使用VS Code的端口转发功能（推荐）

如果您使用VS Code开发，可以利用其内置的端口转发功能，无需额外配置：

1. 在VS Code中打开命令面板（Ctrl+Shift+P）
2. 输入 "Forward a Port" 并选择
3. 输入端口 5000
4. VS Code将提供一个公共URL，可以从任何地方访问您的应用

这种方式简单、安全，非常适合临时使用场景。

### 2. 使用专业内网穿透工具

对于长期或生产环境使用，可以考虑以下工具：
- frp
- ngrok
- natapp
- 花生壳

## 致谢与灵感来源

本项目的创意部分受到 [FilePizza](https://github.com/kern/filepizza) 项目的启发，但在实现方式上有很大不同：

- FilePizza 使用 WebTorrent 和 WebRTC 进行点对点传输，而本项目采用传统的客户端-服务器模型
- FilePizza 在国内网络环境下可能存在连接问题，而本项目可以在内网或通过内网穿透稳定运行
- FilePizza 侧重简单的一对一传输，本项目增加了批量处理、生命周期管理等功能
- 本项目增加了文件管理后台，便于上传者了解文件被下载情况

感谢 FilePizza 项目带来的灵感，同时也感谢所有开源社区的贡献者。

## 作者

[Quietpeng](https://github.com/Quietpeng)

## 许可证

MIT
